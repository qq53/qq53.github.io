{"content": "### \u8fdb\u5165VM\u4f1a\u6267\u884c\u4ee5\u4e0b\u51e0\u6b65\uff1a\r\n1. \u57fa\u7840\u68c0\u67e5\u786e\u4fdd\u53ef\u4ee5\u8fdb\u5165VM\r\n- host-state\u57df\u68c0\u67e5\u786e\u4fddVMX non-root\u64cd\u4f5c\uff0cVMCS\u6b63\u786e\u8bbe\u7f6e\u4ee5\u652f\u6301\u4e0b\u6b21VM exit\r\n- \u4ee5\u4e0b\u4f1a\u5e76\u884c\u6216\u8005\u4efb\u610f\u987a\u5e8f\r\n -  \u8fdb\u5165VM\u540e\uff0c\u68c0\u67e5guest-state\u57df\uff0c\u4fdd\u8bc1\u4e0eIA-32\u548c64\u67b6\u6784\u4e00\u81f4\r\n -  \u5904\u7406\u5668\u72b6\u6001\u6765\u81eaguest-state\u57df\u57fa\u4e8eVMCS\u63a7\u5236\r\n -  Address-range monitoring\u6e05\u9664\r\n- MSRs\u4eceMSR-load\u57df\u52a0\u8f7d\r\n- \u5982\u679cVMLAUNCH\u6267\u884c\uff0cVMCS\u72b6\u6001\u88ab\u7f6e\u4e3alanunched\r\n- \u4e00\u4e2a\u4e8b\u4ef6\u6ce8\u5165\u5230\u5ba2\u6237\u673a\u4e0a\u4e0b\u6587\r\n\r\n\uff081-4\u68c0\u67e5\u53ef\u80fd\u4f1a\u9020\u6210\u8fdb\u5165VM\u5931\u8d25\uff09\r\n\r\n### \u52a0\u8f7d\u5ba2\u6237\u673a\u72b6\u6001\r\n- \u4e00\u4e9b\u72b6\u6001\u4eceguest-state\u57df\u8bfb\u5165\r\n- \u4e00\u4e9b\u72b6\u6001\u53d6\u51b3\u4e8eVM-entry controls\u57df\r\n- \u9875\u76ee\u5f55\u6307\u9488\u4ece\u7279\u5b9a\u7684CR\u5bc4\u5b58\u5668\u8bfb\u5165\r\n\r\n\uff08\u8f7d\u5165\u548c\u68c0\u67e5VMCS\u4e71\u5e8f\u6267\u884c\uff09\r\n\r\n\r\n### \u52a0\u8f7d\u5ba2\u6237\u673aCR\u3001DR\u3001MSRs\u5bc4\u5b58\u5668\r\n- CR0\u4eceCR0\u57df\u52a0\u8f7d\uff0c\u4f46\u662f\u4ee5\u4e0b\u51e0\u4e2a\u4f4d\u6c38\u8fdc\u4e0d\u4f1a\u53d7VM entry\u5f71\u54cd\uff1a4 15:6 17 28:19 29 30\r\n- CR3 CR4\u5206\u522b\u4ece\u5bf9\u5e94\u7684\u57df\u4e2d\u52a0\u8f7d\r\n- DR7\u53d7\u76f8\u5173\u63a7\u5236\u4f4d\u5f71\u54cd\r\n- IA32_SYSENTER\u5bc4\u5b58\u5668\u4ece\u5bf9\u5e94\u57df\u52a0\u8f7d\uff0c\u5176\u4ed6MSRs\u53d7\u76f8\u5e94\u63a7\u5236\u4f4d\u5f71\u54cd\r\n- SMBASE\u5bc4\u5b58\u5668\u4e0d\u6536VM entries\u5f71\u54cd\uff0c\u9664\u4e86\u4eceSMM\u8fd4\u56de\u5916\r\n\r\n### \u52a0\u8f7d\u5ba2\u6237\u673aSR\u6bb5\u5bc4\u5b58\u5668\u548cDT\u5bc4\u5b58\u5668\r\n- CS, SS, DS, ES, FS, GS, TR, LDTR\u4ece\u5bf9\u5e94\u57df\u52a0\u8f7d\r\n- GDTR IDTR\u7528base\u548climit\u57df\u52a0\u8f7d\r\n\r\n### \u52a0\u8f7d\u5ba2\u6237\u673aRIP RSP RFLAGS\r\n\u4ece\u5bf9\u5e94\u57df\u52a0\u8f7d\uff0c\u9ad8\u4f4d\u5728\u975e64\u4f4d\u4e0b\u5e94\u4e3a0\r\n\r\n### \u52a0\u8f7d\u9875\u76ee\u5f55\u6307\u9488\u8868\u9879\r\n\u5982\u679c\u5f00\u542f\u4e86PAE\uff0c\u8fdb\u5165VM\u901a\u8fc7PAE\u5206\u9875\u5185\u90e8\u52a0\u8f7dPDPTEs\uff0c\u5176\u4ed6\u5bc4\u5b58\u5668\u53d7\u76f8\u5e94\u63a7\u5236\u4f4d\uff0c\u5982EPT\u63a7\u5236\u4f4d\r\n\r\n### \u66f4\u65b0\u5ba2\u6237\u673a\u5bc4\u5b58\u5668\u72b6\u6001\r\n\u8fdb\u5165VM\u6839\u636e\u4ee5\u4e0b\u6765\u4f7f\u7f13\u5b58\u6620\u5c04\u65e0\u6548\uff1a\r\n - VPID\u63a7\u5236\u4f4d\u4e3a0\u65f6\uff0c\u901a\u8fc7VPID\u6765\u65e0\u6548EP4TA\u503c\uff08EPTP\u5bc4\u5b58\u566851:12\u4f4d,EPT\u9875\u8868\u6307\u9488\u5bc4\u5b58\u5668\uff09\r\n - \u63a7\u5236\u4f4d\u4e3a1\u65f6\uff0c\u4e0d\u4f1a\u65e0\u6548\u6620\u5c04\r\n\r\n### \u6e05\u9664Address-Range Monitoring\r\n\u8fdb\u5165VM\u6e05\u9664\u6240\u6709Address-Range Monitoring\r\n\r\n### \u52a0\u8f7dMSRS\r\n\u4eceMSR-load\u57df\u52a0\u8f7d\uff08\u53d6\u51b3\u4e8eMSR-load count\u57df\uff09\uff0c\u4f1a\u68c0\u67e5\u4e00\u4e9b\u6761\u4ef6\uff0c\u53ef\u80fd\u4f1a\u5237\u65b0TLB P1105\r\n\r\n# \u4e8b\u4ef6\u6ce8\u5165\r\n\u5f53interruption-information\u57df\u88ab\u7f6e\u4f4d\uff0c\u4f1a\u6839\u636e\u4e2d\u65ad\u7c7b\u578b\u5206\u522b\u5904\u7406\r\n\r\n### \u5b9a\u5411\u4e8b\u4ef6\u6ce8\u5165\r\n", "title": "INTEL\u624b\u518cVT 26\u7ae0\u8bb0\u5f55", "tags": "VT"}